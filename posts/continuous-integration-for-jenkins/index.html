<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
<meta name="google-site-verification" content="mHoeZbiieuN238tsyMA7DAU6UTZSrTBkXmCT6RO_jAw" />
  <link rel="apple-touch-icon" sizes="180x180" href="/images/logo_apple-touch-icon-wechat.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/logo_favicon-32x32-wechat.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/logo_favicon-16x16-wechat.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="mHoeZbiieuN238tsyMA7DAU6UTZSrTBkXmCT6RO_jAw">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"hiyongz.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"giteement","storage":true,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":5,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="持续集成（Continuous integration，CI）是软件开发和发布流程中最重要的组成部分，有利于加快开发进度。Jenkins是常用的持续集成管理工具，本文将简要介绍Jenkins持续集成工具。">
<meta property="og:type" content="article">
<meta property="og:title" content="持续集成平台Jenkins配置方法介绍">
<meta property="og:url" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/index.html">
<meta property="og:site_name" content="HiYong">
<meta property="og:description" content="持续集成（Continuous integration，CI）是软件开发和发布流程中最重要的组成部分，有利于加快开发进度。Jenkins是常用的持续集成管理工具，本文将简要介绍Jenkins持续集成工具。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/continuous-integration.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/CI-software-compare.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-shell-executable.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-manage-plugin.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-security.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-security-manage-user.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-security-matrix.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-job-security-matrix.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-job-security-matrix2.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-security-role-based-authorization-strategy.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-security-role-based-strategy.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-security-manage-and-assign-roles.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-security-manage-and-assign-roles2.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-security-manage-roles.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-security-manage-roles-item-roles.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-security-manage-roles-node-roles.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-security-assign-roles-global-roles.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-security-assign-roles-item-roles.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-security-assign-roles-node-roles.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/csrf-disabled.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-slave-node-configure.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-manage-node.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-slave-node-verfication-strategy.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-slave-status.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-windows-node-configure.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-windows-node-connect.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-windows-node-run.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-windows-slave-status.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/inbound-tcp-agent-protocol.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/windows-plan-task.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/windows-plan-task2.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/windows-plan-task3.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/windows-plan-task4.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/windows-plan-task5.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/windows-plan-task6.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/windows-plan-task7.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-create-new-item.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-freestyle-project.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-edit-new-item.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-build-now.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-console-output.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/windows-node-configure.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-father-child-job.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-first-job-build.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-second-job-build.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-second-job-build-triggers.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-second-job-build2.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-first-job-run.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-first-job-console-output.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-second-test-status.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-job-failure.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-email-extension.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-email-address.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-extend-email-notification.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-email-notification.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-test-email.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-email-content.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-email-default-triggers.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-job-email-notification.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-job-email-notification2.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-email-build.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-email.png">
<meta property="og:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/jenkins-discard-old-builds.png">
<meta property="article:published_time" content="2021-03-05T12:12:00.000Z">
<meta property="article:modified_time" content="2023-07-12T23:28:28.208Z">
<meta property="article:author" content="HiYo">
<meta property="article:tag" content="Jenkins">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/continuous-integration.png">

<link rel="canonical" href="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>持续集成平台Jenkins配置方法介绍 | HiYong</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <script src="/live2d-widget/autoload.js"></script>
<link rel="alternate" href="/atom.xml" title="HiYong" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HiYong</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">此时 此地 此身</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-books">

    <a href="/books/" rel="section"><i class="fa fa-book fa-fw"></i>书单</a>

  </li>
        <li class="menu-item menu-item-tools">

    <a href="/tools/" rel="section"><i class="fa fa-gavel fa-fw"></i>工具</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/hiyongz/DevTest-Notes" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/logo_android-chrome-192x192-wechat.png">
      <meta itemprop="name" content="HiYo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HiYong">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          持续集成平台Jenkins配置方法介绍
        </h1>

        <div class="post-meta">
          
          

            <span class="post-time">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-03-05 12:12:00" itemprop="dateCreated datePublished" datetime="2021-03-05T12:12:00+00:00">2021-03-05</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" itemprop="url" rel="index"><span itemprop="name">自动化测试</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">测试开发</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/" itemprop="url" rel="index"><span itemprop="name">持续集成</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/continuous-integration-for-jenkins/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/continuous-integration-for-jenkins/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>9.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>9 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>持续集成（Continuous integration，CI）是软件开发和发布流程中最重要的组成部分，有利于加快开发进度。Jenkins是常用的持续集成管理工具，本文将简要介绍Jenkins持续集成工具。</p>
<a id="more"></a>
<h1 id="持续集成简介"><a href="#持续集成简介" class="headerlink" title="持续集成简介"></a>持续集成简介</h1><p>持续集成（Continuous integration，CI）概念由Martin Fowler 于2006年提出：<a target="_blank" rel="noopener" href="https://martinfowler.com/">https://martinfowler.com/</a>， 频繁地（一天多次）将代码集成到主干。</p>
<p><img src="continuous-integration.png" width="80%" height="80%" /></p>
<blockquote>
<p>Continuous Integration doesn’t get rid of bugs, but it does make them dramatically easier to find and remove.<br><strong>Martin Fowler, Chief Scientist, ThoughtWorks</strong></p>
</blockquote>
<p>持续集成好处：</p>
<ul>
<li>快速发现错误：持续自动化测试，可以快速发现和定位错误，节约时间。</li>
<li>易于定位项目进度，使项目更加透明。</li>
<li>导致更快的发布</li>
</ul>
<h1 id="Jenkins简介"><a href="#Jenkins简介" class="headerlink" title="Jenkins简介"></a>Jenkins简介</h1><p>Jenkins官网：<a target="_blank" rel="noopener" href="https://www.jenkins.io/">https://www.jenkins.io/</a></p>
<p>Jenkins官网文档：<a target="_blank" rel="noopener" href="https://www.jenkins.io/doc/">https://www.jenkins.io/doc/</a></p>
<p>Jenkins是免费开源的持续集成管理工具，基于Java开发，可以跨平台运行，提供持续集成和持续交付服务 ( continuous integration or continuous delivery，CI/CD)，自动化软件开发流程中的构建、测试和部署工作。Jenkins插件丰富，有超过1000个插件来支持构建、部署自动化，满足任何项目的需要。</p>
<p>持续集成工具比较：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Comparison_of_continuous_integration_software">https://en.wikipedia.org/wiki/Comparison_of_continuous_integration_software</a></p>
<p><img src="CI-software-compare.png" width="80%" height="80%" /></p>
<p>Docker Jenkins安装和启动方法参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/u010698107/article/details/113819992">Docker搭建持续集成平台Jenkins</a></p>
<h1 id="Jenkins配置"><a href="#Jenkins配置" class="headerlink" title="Jenkins配置"></a>Jenkins配置</h1><h2 id="系统配置"><a href="#系统配置" class="headerlink" title="系统配置"></a>系统配置</h2><p>进入Manage Jenkins -&gt; System Configuration -&gt; Configure System进行系统配置，有很多配置参数可以配置，比如：</p>
<ul>
<li>Jenkins URL：服务器域名</li>
<li>管理员邮箱</li>
<li>Github配置</li>
<li>默认 Shell：bash</li>
<li>等</li>
</ul>
<p>在windows代理节点中，默认命令行使用cmd，如果你想使用Git Bash，可以在系统配置中进行配置。进入Manage Jenkins -&gt; System Configuration -&gt; Configure System，下拉到shell，配置Shell executable为你的命令行文件路径，比如我的git bash路径为：<code>D:/tools/Git/bin/sh.exe</code><br><img src="jenkins-shell-executable.png" width="80%" height="80%" /></p>
<h2 id="插件管理"><a href="#插件管理" class="headerlink" title="插件管理"></a>插件管理</h2><p>Jenkins插件众多，扩展了很多功能。进入Manage Jenkins -&gt; System Configuration -&gt; Manage Plugins进行插件的管理。</p>
<p>可以先点击Advanced 设置更新网址URL：<a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json">https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json</a><br><img src="jenkins-manage-plugin.png" width="80%" height="80%" /></p>
<p>然后进行插件的安装更新操作， 插件的安装方法，在Available中的输入框输入要安装的插件名称关键字进行搜索，选择要安装的插件，点击“Download now and install after  restart”进行下载安装。</p>
<p>Jenkins推荐插件：</p>
<ul>
<li>Rebuilder</li>
<li>Safe Restart Plugin</li>
<li>Pipeline</li>
<li>Text Finder</li>
<li>Blue Ocean</li>
<li>Allure</li>
</ul>
<h2 id="用户权限控制"><a href="#用户权限控制" class="headerlink" title="用户权限控制"></a>用户权限控制</h2><h3 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h3><p>在Jenkins的初始化安装过程中会先注册一个管理员用户，管理员用户可以创建一般用户，管理员用户具有最高权限。</p>
<p>进入Manage Jenkins -&gt; Security -&gt; Configure Global Security进行安全配置</p>
<p>可以勾选允许用户注册，团队人数较少时，一般建议不勾选，由管理员创建</p>
<p><img src="jenkins-security.png" width="80%" height="80%" /></p>
<p>进入Manage Jenkins -&gt; Security -&gt; Manage Users进行用户管理，可以进行用户删除、修改和添加操作</p>
<p><img src="jenkins-security-manage-user.png" width="80%" height="80%" /></p>
<h3 id="用户权限管理"><a href="#用户权限管理" class="headerlink" title="用户权限管理"></a>用户权限管理</h3><p>可以使用 Matrix Authorization Strategy 插件对用户权限进行管理。</p>
<p>进入Manage Jenkins -&gt; Security -&gt; Configure Global Security -&gt; Authorization</p>
<p>可以选择【安全矩阵】（个人权限）对用户进行权限管理。</p>
<p><img src="jenkins-security-matrix.png" width="80%" height="80%" /></p>
<h3 id="项目权限配置"><a href="#项目权限配置" class="headerlink" title="项目权限配置"></a>项目权限配置</h3><p>如果要对项目进行授权管理，让不同的用户管理不同的项目，一种方式是勾选【项目矩阵】：<br><img src="jenkins-job-security-matrix.png" width="80%" height="80%" /></p>
<p>配置好后，在项目内可以配置用户权限，选择一个job，进入项目配置，可以配置项目权限：<br><img src="jenkins-job-security-matrix2.png" width="80%" height="80%" /></p>
<p>除了这种方式外，还有一种方式就是对用户进行角色管理，这个功能由Role-based Authorization Strategy插件提供，先安装这个插件。<br><img src="jenkins-security-role-based-authorization-strategy.png" width="80%" height="80%" /></p>
<p>进入Manage Jenkins -&gt; Security -&gt; Configure Global Security -&gt; Authorization，勾选Role-Based Strategy：<br><img src="jenkins-security-role-based-strategy.png" width="80%" height="80%" /></p>
<p>在Mange Jenkins -&gt; Security中会出现Manage and Assign Roles，<br><img src="jenkins-security-manage-and-assign-roles.png" width="80%" height="80%" /></p>
<p>点击Manage and Assign Roles，发现可以管理和分配角色。<br><img src="jenkins-security-manage-and-assign-roles2.png" width="80%" height="80%" /></p>
<p>先进入【Manage Roles】，添加tester和developer两个Global roles，分配一些权限。<br><img src="jenkins-security-manage-roles.png" width="80%" height="80%" /></p>
<p>添加Item roles，<br><img src="jenkins-security-manage-roles-item-roles.png" width="80%" height="80%" /></p>
<p>添加Node roles，<br><img src="jenkins-security-manage-roles-node-roles.png" width="80%" height="80%" /></p>
<p>配置完成后，添加tester1和developer1两个用户。</p>
<p>进入【Assign Roles】，配置Global roles<br><img src="jenkins-security-assign-roles-global-roles.png" width="80%" height="80%" /></p>
<p>配置Item roles<br><img src="jenkins-security-assign-roles-item-roles.png" width="80%" height="80%" /></p>
<p>配置Node roles<br><img src="jenkins-security-assign-roles-node-roles.png" width="80%" height="80%" /></p>
<p>配置完成后可以登录不同角色用户来测试一下。</p>
<h2 id="关闭跨站请求伪造保护（CSRF）"><a href="#关闭跨站请求伪造保护（CSRF）" class="headerlink" title="关闭跨站请求伪造保护（CSRF）"></a>关闭跨站请求伪造保护（CSRF）</h2><p>Jenkins高版本不能再web页面关闭CSRF。</p>
<p>一种方法是在Jenkins启动时加入取消保护的参数：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-Dhudson.security.csrf.GlobalCrumbIssuerConfiguration.DISABLE_CSRF_PROTECTION=<span class="literal">true</span></span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">-Dhudson.security.csrf.GlobalCrumbIssuerConfiguration=<span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>第二种方法是修改Jenkins容器中的/usr/local/bin/jenkins.sh文件：</p>
<p>将<code>Dhudson.security.csrf.GlobalCrumbIssuerConfiguration.DISABLE_CSRF_PROTECTION=true</code> 添加到<code>exec java</code> 开头的那行命令中：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exec</span> java -Duser.home=<span class="string">&quot;<span class="variable">$JENKINS_HOME</span>&quot;</span> -Dhudson.security.csrf.GlobalCrumbIssuerConfiguration.DISABLE_CSRF_PROTECTION=<span class="literal">true</span> <span class="string">&quot;<span class="variable">$&#123;java_opts_array[@]&#125;</span>&quot;</span> -jar <span class="variable">$&#123;JENKINS_WAR&#125;</span> <span class="string">&quot;<span class="variable">$&#123;jenkins_opts_array[@]&#125;</span>&quot;</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br></pre></td></tr></table></figure>
<p>如果Jenkins容器没有vi或者vim命令，可以将文件复制出来修改后，再复制回去：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ docker cp db10006f12ad:/usr/<span class="built_in">local</span>/bin/jenkins.sh .   <span class="comment">#复制到当前目录</span></span><br><span class="line">$ vi jenkins.sh <span class="comment"># 修改jenkins.sh文件</span></span><br><span class="line">$ docker cp jenkins.sh db10006f12ad:/usr/<span class="built_in">local</span>/bin/jenkins.sh <span class="comment"># 复制到容器中</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>修改完成后重启jenkins容器</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart jenkins </span><br></pre></td></tr></table></figure>
<p>然后在【全局安全配置】中可以看到 跨站请求伪造保护 已经关闭</p>
<p><img src="csrf-disabled.png" width="80%" height="80%" /></p>
<h1 id="执行机管理"><a href="#执行机管理" class="headerlink" title="执行机管理"></a>执行机管理</h1><p>在实际工作中，考虑到宿主机资源限制，可以采用多节点的方式，将任务分配到其他节点执行。通过添加多个Jenkins Nodes来执行Jenkins任务， Jenkins运行的主机称为Built-In Node：</p>
<ul>
<li>节点上需要配置Java运行环境, Java_Version&gt;1.5，注意：Jenkins 2.357 及 LTS 2.361.1之后的版本要求Java 11 或者 17</li>
<li>节点支持Windows, Linux，Mac系统</li>
</ul>
<p>先查看是否配置了Java运行环境：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@server /]<span class="comment"># java -version</span></span><br><span class="line">openjdk version <span class="string">&quot;1.8.0_252&quot;</span></span><br><span class="line">OpenJDK Runtime Environment (build 1.8.0_252-b09)</span><br><span class="line">OpenJDK 64-Bit Server VM (build 25.252-b09, mixed mode)</span><br><span class="line">[root@server /]<span class="comment"># </span></span><br></pre></td></tr></table></figure></p>
<p>进入Manage Jenkins -&gt; System Configuration -&gt; Manage Nodes and Clouds</p>
<h2 id="添加Linux节点"><a href="#添加Linux节点" class="headerlink" title="添加Linux节点"></a>添加Linux节点</h2><p>配置节点（注意我配置的agent节点为宿主机）：<br><img src="jenkins-slave-node-configure.png" width="80%" height="80%" /><br>发现节点连接不成功<br><img src="jenkins-manage-node.png" width="80%" height="80%" /></p>
<p>查看日志，发现没有known_hosts<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/var/jenkins_home/.ssh/known_hosts [SSH] No Known Hosts file was found at /var/jenkins_home/.ssh/known_hosts. Please ensure one is created at this path and that Jenkins can <span class="built_in">read</span> it.</span><br></pre></td></tr></table></figure><br>一种解决方法是，设置认证策略为手动信任<br><img src="jenkins-slave-node-verfication-strategy.png" width="80%" height="80%" /></p>
<p>上线成功<br><img src="jenkins-slave-status.png" width="80%" height="80%" /></p>
<h2 id="添加Windows节点"><a href="#添加Windows节点" class="headerlink" title="添加Windows节点"></a>添加Windows节点</h2><p>windows节点配置<br><img src="jenkins-windows-node-configure.png" width="80%" height="80%" /></p>
<p>节点连接方式<br><img src="jenkins-windows-node-connect.png" width="80%" height="80%" /><br>第一种方式：点击Launch图标下载，双击运行下载的文件jenkins-agent.jnlp<br><img src="jenkins-windows-node-run.png" width="80%" height="80%" /><br>刷新，上线成功<br><img src="jenkins-windows-slave-status.png" width="80%" height="80%" /></p>
<p>第二种方式：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">java -jar agent.jar -jnlpUrl http://192.168.30.8:8080/computer/slave2/jenkins-agent.jnlp -secret 626402e3eee37788fa41ffa7353a2cc14f269028672a0af206b0f92e6578f364 -workDir <span class="string">&quot;D:\ProgramWorkspace\TestingDemo\jenkins&quot;</span></span><br><span class="line"><span class="comment"># Run from agent command line, with the secret stored in a file:</span></span><br><span class="line"><span class="built_in">echo</span> 626402e3eee37788fa41ffa7353a2cc14f269028672a0af206b0f92e6578f364 &gt; secret-file</span><br><span class="line">java -jar agent.jar -jnlpUrl http://192.168.30.8:8080/computer/slave2/jenkins-agent.jnlp -secret @secret-file -workDir <span class="string">&quot;D:\ProgramWorkspace\TestingDemo\jenkins&quot;</span></span><br></pre></td></tr></table></figure></p>
<p>启动jenkins时，开启了8080和50000端口（<a target="_blank" rel="noopener" href="https://blog.csdn.net/u010698107/article/details/113819992">Docker搭建持续集成平台Jenkins</a>），8080端口是jenkins服务器对外URL地址，50000端口为slave节点与jenkins的通讯端口，在默认情况下，基于JNLP的Jenkins代理通过TCP端口50000与Jenkins主站进行通信。</p>
<p>Windows查看50000端口占用：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\10287&gt;netstat -aon | findstr <span class="string">&quot;50000&quot;</span></span><br><span class="line">  TCP    127.0.0.1:50000        0.0.0.0:0              LISTENING       8644</span><br><span class="line">  TCP    192.168.30.100:52297   192.168.30.8:50000     ESTABLISHED     10028</span><br><span class="line"></span><br></pre></td></tr></table></figure><br>Linux查看端口占用情况：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@server /]<span class="comment"># lsof -i:8080</span></span><br><span class="line">COMMAND    PID USER   FD   TYPE DEVICE SIZE/OFF NODE NAME</span><br><span class="line">docker-pr 2787 root    4u  IPv4  51423      0t0  TCP *:webcache (LISTEN)</span><br><span class="line">[root@server /]<span class="comment"># lsof -i:50000</span></span><br><span class="line">COMMAND    PID USER   FD   TYPE DEVICE SIZE/OFF NODE NAME</span><br><span class="line">docker-pr 2775 root    4u  IPv4  50675      0t0  TCP *:50000 (LISTEN)</span><br><span class="line">[root@server /]<span class="comment"># netstat -aptn | grep 50000</span></span><br><span class="line">tcp        0      0 0.0.0.0:50000           0.0.0.0:*               LISTEN      2775/docker-proxy   </span><br><span class="line">[root@haiyong jenkins_home]<span class="comment"># </span></span><br></pre></td></tr></table></figure></p>
<p>启动windows节点时可能会报如下错误：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java.lang.Exception: The server rejected the connection: None of the protocols were accepted<span class="string">&quot;</span></span><br></pre></td></tr></table></figure>
<p>解决方案：进入Manage Jenkins -&gt; Configure Global Security -&gt; Agents -&gt; Agent protocols，勾选Inbound TCP Agent Protocol/4 (TLS encryption)</p>
<p><img src="inbound-tcp-agent-protocol.png" width="80%" height="80%" /></p>
<h2 id="设置windows节点开机自动启动"><a href="#设置windows节点开机自动启动" class="headerlink" title="设置windows节点开机自动启动"></a>设置windows节点开机自动启动</h2><p>下面介绍2种方法。</p>
<h3 id="方法1：添加任务计划程序"><a href="#方法1：添加任务计划程序" class="headerlink" title="方法1：添加任务计划程序"></a>方法1：添加任务计划程序</h3><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/landhu/p/6758197.html">https://www.cnblogs.com/landhu/p/6758197.html</a></p>
<p>进入控制面板 -&gt; 管理工具 -&gt; 任务计划程序</p>
<p><img src="windows-plan-task.png" width="80%" height="80%" /></p>
<p>点击操作，创建一个基本任务，设置名称，点击下一步</p>
<p><img src="windows-plan-task2.png" width="80%" height="80%" /></p>
<p>设置触发器</p>
<p><img src="windows-plan-task3.png" width="80%" height="80%" /></p>
<p>选择启动程序</p>
<p><img src="windows-plan-task4.png" width="80%" height="80%" /></p>
<p>设置程序脚本及参数</p>
<p>脚本输入java.exe，参数设置为 <code>-jar agent.jar -jnlpUrl http://192.168.98.228:8080/computer/windows%2Dslave1/jenkins-agent.jnlp -secret b246b061660b4db4d48a69090705624d19fab65e2f30b53e73c9746309fa2a0c -workDir &quot;D:\jenkins&quot;</code></p>
<p><img src="windows-plan-task5.png" width="80%" height="80%" /></p>
<p>点击下一步，点击完成</p>
<p><img src="windows-plan-task6.png" width="80%" height="80%" /></p>
<p>可以手动运行一下，查看是否可以启动成功。</p>
<p><img src="windows-plan-task7.png" width="80%" height="80%" /></p>
<h3 id="方法2：自动运行启动脚本"><a href="#方法2：自动运行启动脚本" class="headerlink" title="方法2：自动运行启动脚本"></a>方法2：自动运行启动脚本</h3><p>编写bat脚本jenkins_agent.bat：</p>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">java -jar agent.jar -jnlpUrl http://<span class="number">192</span>.<span class="number">168</span>.<span class="number">98</span>.<span class="number">228</span>:<span class="number">8080</span>/computer/windows%<span class="number">2</span>Dslave1/jenkins-agent.jnlp -secret b246b061660b4db4d48a69090705624d19fab65e2f30b53e73c9746309fa2a0c -workDir &quot;D:\jenkins&quot;</span><br></pre></td></tr></table></figure>
<p>如果直接将这个bat脚本放到 <code>C:\ProgramData\Microsoft\Windows\Start Menu\Programs\StartUp</code> 路径下，开机启动时会打开一个命令行窗口，如果不想打开命令行窗口，希望它在后台运行，可以使用VBS脚本运行。</p>
<p>编写vbs脚本jenkins_agent.vbs：</p>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Set</span> WshShell = CreateObject(&quot;WScript.Shell&quot;) </span><br><span class="line">WshShell.Run chr(<span class="number">34</span>) &amp; &quot;D:/jenkins/jenkins_agent.bat&quot; &amp; Chr(<span class="number">34</span>), <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>将jenkins_agent.vbs放到StartUp目录下即可。</p>
<h1 id="Jenkins创建项目"><a href="#Jenkins创建项目" class="headerlink" title="Jenkins创建项目"></a>Jenkins创建项目</h1><h2 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h2><p><img src="jenkins-create-new-item.png" width="80%" height="80%" /></p>
<h2 id="选择Freestyle-project"><a href="#选择Freestyle-project" class="headerlink" title="选择Freestyle project"></a>选择Freestyle project</h2><p><img src="jenkins-freestyle-project.png" width="80%" height="80%" /></p>
<h2 id="项目配置"><a href="#项目配置" class="headerlink" title="项目配置"></a>项目配置</h2><p><img src="jenkins-edit-new-item.png" width="80%" height="80%" /><br>可以发现一个job的组成部分包括：</p>
<ul>
<li>General：项目通用配置</li>
<li>Source Code Management：源代码控制，比如Git配置</li>
<li>Build Triggers：触发，构建时间配置（定期构建，代码变更构建）</li>
<li>Build Environment</li>
<li>Build：执行命令，比如执行shell</li>
<li>Post-build Actions：执行完成后进行分析，生成报告，发送邮件等</li>
</ul>
<h2 id="构建完成"><a href="#构建完成" class="headerlink" title="构建完成"></a>构建完成</h2><p><img src="jenkins-build-now.png" width="80%" height="80%" /></p>
<h2 id="查看控制台输出"><a href="#查看控制台输出" class="headerlink" title="查看控制台输出"></a>查看控制台输出</h2><p><img src="jenkins-console-output.png" width="80%" height="80%" /></p>
<h1 id="SVN源码管理报错"><a href="#SVN源码管理报错" class="headerlink" title="SVN源码管理报错"></a>SVN源码管理报错</h1><p>配置SVN源码管理时可能报如下错误信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">org.tmatesoft.svn.core.SVNException: svn: E175002: SSL handshake failed: <span class="string">&#x27;The server selected protocol version TLS10 is not accepted by client preferences [TLS12]&#x27;</span></span><br></pre></td></tr></table></figure>
<p>原因是，TLS 1.0易受中间人（man-in-the-middle）攻击，服务器和客户端之间发送数据的完整性和身份验证存在风险。1.0和1.1版本的一些实现也容易受到POODLE(Padding Oracle on Downgraded Legacy Encryption)攻击，因为它们在解密后接受了一个不正确的填充结构。所以TLSv1和TLSv1.1在java安全配置文件中被禁用了。</p>
<p>解决方案：<a target="_blank" rel="noopener" href="https://asyncstream.com/tutorials/java-tlsv10-not-accepted-by-client-preferences/">https://asyncstream.com/tutorials/java-tlsv10-not-accepted-by-client-preferences/</a></p>
<ol>
<li><p>编辑 <code>/opt/java/openjdk/conf/security/java.security</code> 文件，将 <code>security.overridePropertiesFile</code> 设置为 <code>true</code> 。</p>
</li>
<li><p>创建名为 <code>enableLegacyTLS.security</code> 的文件，将<code>java.security</code> 文件中的 <code>jdk.tls.disabledAlgorithms</code> 属性和值复制到文件中。</p>
</li>
<li><p>删除 <code>enableLegacyTLS.security</code> 的文件中的 <code>TLSv1</code> 和  <code>TLSv1.1</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \</span><br><span class="line">    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \</span><br><span class="line">    include jdk.disabled.namedCurves</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加 <code>-Djava.security.properties=&quot;/opt/java/openjdk/conf/security/enableLegacyTLS.security&quot;</code> 参数到 <code>/usr/local/bin/jenkins.sh</code> 文件</p>
</li>
<li><p>如果是Windows代理机，编辑 <code>C:\Program Files\Java\jdk1.8.0_311\jre\lib\security\java.security</code> 文件，删除<code>jdk.tls.disabledAlgorithms</code>中的 <code>TLSv1</code> 和  <code>TLSv1.1</code>，Linux类似。</p>
</li>
</ol>
<h1 id="Windows节点无法执行bat命令"><a href="#Windows节点无法执行bat命令" class="headerlink" title="Windows节点无法执行bat命令"></a>Windows节点无法执行bat命令</h1><p>在Windows执行机上执行bat脚本时，可能报如下错误：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[Pipeline] bat</span><br><span class="line"><span class="string">&#x27;cmd&#x27;</span> is not recognized as an internal or external <span class="built_in">command</span>,</span><br><span class="line">operable program or batch file.</span><br></pre></td></tr></table></figure>
<p>解决方法：在Windows节点配置中添加环境变量</p>
<p><img src="windows-node-configure.png" width="80%" height="80%" /></p>
<p>添加完成后重启Jenkins就可以了。</p>
<h1 id="Jenkins父子多任务运行"><a href="#Jenkins父子多任务运行" class="headerlink" title="Jenkins父子多任务运行"></a>Jenkins父子多任务运行</h1><p>任务启动的触发条件：其他任务的运行结果</p>
<ul>
<li>前驱任务成功的条件下被触发</li>
<li>前驱任务失败的条件下被触发</li>
<li>前驱任务不稳定的条件下被触发</li>
</ul>
<p>适用于有先后次序关系的任务，比如 部署环境任务，验收测试任务</p>
<h2 id="Jenkins配置成功任务关联"><a href="#Jenkins配置成功任务关联" class="headerlink" title="Jenkins配置成功任务关联"></a>Jenkins配置成功任务关联</h2><p><strong>1、新建第一个任务first_test</strong><br><img src="jenkins-father-child-job.png" width="80%" height="80%" /></p>
<p><strong>2、构建</strong><br><img src="jenkins-first-job-build.png" width="80%" height="80%" /></p>
<p><strong>3、新建第二个任务second_test</strong><br><img src="jenkins-second-job-build.png" width="80%" height="80%" /></p>
<p><strong>4、构建，设置触发方式</strong><br>设置为前驱任务稳定成功的条件下被触发<br><img src="jenkins-second-job-build-triggers.png" width="80%" height="80%" /><br><img src="jenkins-second-job-build2.png" width="80%" height="80%" /></p>
<p><strong>5、启动第一个任务first_test</strong><br><img src="jenkins-first-job-run.png" width="80%" height="80%" /></p>
<p>控制台输出<br><img src="jenkins-first-job-console-output.png" width="80%" height="80%" /></p>
<p>可以看到second_test也成功了<br><img src="jenkins-second-test-status.png" width="80%" height="80%" /></p>
<p>前驱任务不稳定的条件下也被触发，可以使用Text Finder插件来构建不稳定条件</p>
<h2 id="Jenkins配置失败任务关联"><a href="#Jenkins配置失败任务关联" class="headerlink" title="Jenkins配置失败任务关联"></a>Jenkins配置失败任务关联</h2><p>前驱任务稳定成功的条件下被触发<br><img src="jenkins-job-failure.png" width="80%" height="80%" /></p>
<h1 id="Jenkins邮件报警"><a href="#Jenkins邮件报警" class="headerlink" title="Jenkins邮件报警"></a>Jenkins邮件报警</h1><p>Jenkins可以配置邮件通知，比如在Jenkins构建任务之后发送邮件通知，错误报警等</p>
<p>安装插件：Email Extension和Email Extension Template<br><img src="jenkins-email-extension.png" width="80%" height="80%" /></p>
<h2 id="Jenkins配置-Email"><a href="#Jenkins配置-Email" class="headerlink" title="Jenkins配置 Email"></a>Jenkins配置 Email</h2><p>进入Manage Jenkins -&gt; System Configuration -&gt; Configure System 配置系统管理员e-mail地址<br><img src="jenkins-email-address.png" width="80%" height="80%" /></p>
<p>配置Extended E-mail Notification，注意SMTP Password不是邮箱密码，为你的邮箱授权码<br><img src="jenkins-extend-email-notification.png" width="80%" height="80%" /><br>拉到最下面，配置邮件通知，配置完成后，可以发一个测试邮件，查看是否配置成功<br><img src="jenkins-email-notification.png" width="80%" height="80%" /></p>
<p><img src="jenkins-test-email.png" width="80%" height="80%" /></p>
<h2 id="Jenkins邮件模板配置"><a href="#Jenkins邮件模板配置" class="headerlink" title="Jenkins邮件模板配置"></a>Jenkins邮件模板配置</h2><p>Jenkins可以根据你配置的邮件模板格式来发送结果邮件，通过Jenkins的参数定制自己的Email模板，常用的参数key值如下:</p>
<ul>
<li>$BUILD_STATUS ：构建结果</li>
<li>$PROJECT_NAME ：构建脚本名称</li>
<li>$BUILD_NUMBER ：构建脚本编号</li>
<li>$JOB_DESCRIPTION ：构建项目描述</li>
<li>$CAUSE ：脚本启动原因</li>
<li>$BUILD_URL ：脚本构建详情URL地址</li>
</ul>
<p>Default Subject<br><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Jenkins构建提醒：$PROJECT_NAME - Build # $BUILD_NUMBER - $BUILD_STATUS!</span><br></pre></td></tr></table></figure></p>
<p>Default Content<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hr</span>/&gt;</span>(自动化构建邮件，无需回复！)<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">项目名称：$PROJECT_NAME<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">项目描述：$JOB_DESCRIPTION<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">运行编号：$BUILD_NUMBER<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">运行结果：$BUILD_STATUS<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">触发原因：$&#123;CAUSE&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">构建日志地址：<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;BUILD_URL&#125;console&quot;</span>&gt;</span>$&#123;BUILD_URL&#125;console<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">构建地址：<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;$BUILD_URL&quot;</span>&gt;</span>$BUILD_URL<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">详情：$&#123;JELLY_SCRIPT,template=&quot;html&quot;&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br></pre></td></tr></table></figure><br><img src="jenkins-email-content.png" width="80%" height="80%" /></p>
<h2 id="Jenkins报警规则"><a href="#Jenkins报警规则" class="headerlink" title="Jenkins报警规则"></a>Jenkins报警规则</h2><p>在模板设置的下方有个 Default Triggers 按钮，点击后，设定报警规则</p>
<p><img src="jenkins-email-default-triggers.png" width="80%" height="80%" /></p>
<p>在job的<strong>构建后操作</strong>步骤选择” Editable Email Notification “<br><img src="jenkins-job-email-notification.png" width="80%" height="80%" /></p>
<p><img src="jenkins-job-email-notification2.png" width="80%" height="80%" /></p>
<p>配置完成后，构建项目，查看控制台输出<br><img src="jenkins-email-build.png" width="80%" height="80%" /></p>
<p>查看邮箱，发送成功！<br><img src="jenkins-email.png" width="80%" height="80%" /></p>
<h1 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h1><h2 id="删除构建历史"><a href="#删除构建历史" class="headerlink" title="删除构建历史"></a>删除构建历史</h2><p>介绍两种删除构建历史的方法：</p>
<p><strong>方法1：项目配置中设置</strong></p>
<p>进入项目配置，勾选【Discard old builds】进行配置，可以配置保留天数、最多构建数等</p>
<p><img src="jenkins-discard-old-builds.png" width="80%" height="80%" /></p>
<p><strong>方法2：执行 Groovy脚本</strong></p>
<p>可以通过Groovy脚本来删除构建。</p>
<p>点击【Manage Jenkins】-&gt; 【Script Console】</p>
<p>删除所有构建：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> jobName = <span class="string">&quot;test_shell&quot;</span></span><br><span class="line"><span class="keyword">def</span> job = Jenkins.instance.getItem(jobName)</span><br><span class="line">job.getBuilds().each &#123; </span><br><span class="line">    it.delete() </span><br><span class="line">&#125;</span><br><span class="line">job.nextBuildNumber = <span class="number">1</span></span><br><span class="line">job.save()</span><br></pre></td></tr></table></figure>
<p>点击运行，job名为 <code>test_shell</code> 的构建历史都会被删除，重新构建时构建序号会从1开始。</p>
<p>参考资料：</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://martinfowler.com/articles/continuousIntegration.html">https://martinfowler.com/articles/continuousIntegration.html</a></li>
</ol>
<center><b>--THE END--<b></center>



    
    
    
	  
	  <div class="post-tags">              
		  <a href="/tags/Jenkins/" rel="tag"><i class="fa fa-tag"></i> Jenkins</a>
	  </div>
      <br/>
      <div>
          
              
<div class="my-post-copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>
  
  <!-- JS库 sweetalert 可修改路径 -->
  <script type="text/javascript" src="http://jslibs.wuxubj.cn/sweetalert_mini/jquery-1.7.1.min.js"></script>
  <script src="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.min.js"></script>
  <link rel="stylesheet" type="text/css" href="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.mini.css">

  <p><span>本文标题:</span>持续集成平台Jenkins配置方法介绍</a></p>
  <p><span>文章作者:</span>hiyo</a></p>
  <p><span>文章链接:</span><a href="/posts/continuous-integration-for-jenkins/" title="持续集成平台Jenkins配置方法介绍">https://hiyongz.github.io/posts/continuous-integration-for-jenkins/</a>
    <span class="copy-path"  title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="https://hiyongz.github.io/posts/continuous-integration-for-jenkins/"  aria-label="复制成功！"></i></span>
  </p>
  <p><span>许可协议:</span>本博客文章除特别声明外，均采用<a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a> 许可协议。转载请保留原文链接及作者。</p>  
</div>
<script> 
    var clipboard = new Clipboard('.fa-clipboard');
    clipboard.on('success', $(function(){
      $(".fa-clipboard").click(function(){
        swal({   
          title: "",   
          text: '复制成功',   
          html: false,
          timer: 500,   
          showConfirmButton: false
        });
      });
    }));  
</script>

          
      </div>
      </div>
      <div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center;">
        <img id="wechat_subscriber_qcode" src="/uploads/wechat.jpg" style="width: 200px; max-width: 100%;">
        <div>关注微信公众号，及时接收最新技术文章！</div>
      </div>
      <footer class="post-footer">        

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/posts/performance-testing-for-performance-monitoring-system/" rel="prev" title="JMeter性能监控系统：Jmeter + InfluxDB + Grafana">
      <i class="fa fa-chevron-left"></i> JMeter性能监控系统：Jmeter + InfluxDB + Grafana
    </a></div>
      <div class="post-nav-item">
    <a href="/posts/database-for-mysql-install-on-linux-and-windows/" rel="next" title="MySQL数据库安装配置详细教程">
      MySQL数据库安装配置详细教程 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">持续集成简介</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Jenkins%E7%AE%80%E4%BB%8B"><span class="nav-number">2.</span> <span class="nav-text">Jenkins简介</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Jenkins%E9%85%8D%E7%BD%AE"><span class="nav-number">3.</span> <span class="nav-text">Jenkins配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE"><span class="nav-number">3.1.</span> <span class="nav-text">系统配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8F%92%E4%BB%B6%E7%AE%A1%E7%90%86"><span class="nav-number">3.2.</span> <span class="nav-text">插件管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6"><span class="nav-number">3.3.</span> <span class="nav-text">用户权限控制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="nav-number">3.3.1.</span> <span class="nav-text">用户管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="nav-number">3.3.2.</span> <span class="nav-text">用户权限管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E6%9D%83%E9%99%90%E9%85%8D%E7%BD%AE"><span class="nav-number">3.3.3.</span> <span class="nav-text">项目权限配置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B3%E9%97%AD%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0%E4%BF%9D%E6%8A%A4%EF%BC%88CSRF%EF%BC%89"><span class="nav-number">3.4.</span> <span class="nav-text">关闭跨站请求伪造保护（CSRF）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%89%A7%E8%A1%8C%E6%9C%BA%E7%AE%A1%E7%90%86"><span class="nav-number">4.</span> <span class="nav-text">执行机管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0Linux%E8%8A%82%E7%82%B9"><span class="nav-number">4.1.</span> <span class="nav-text">添加Linux节点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0Windows%E8%8A%82%E7%82%B9"><span class="nav-number">4.2.</span> <span class="nav-text">添加Windows节点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AEwindows%E8%8A%82%E7%82%B9%E5%BC%80%E6%9C%BA%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8"><span class="nav-number">4.3.</span> <span class="nav-text">设置windows节点开机自动启动</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%951%EF%BC%9A%E6%B7%BB%E5%8A%A0%E4%BB%BB%E5%8A%A1%E8%AE%A1%E5%88%92%E7%A8%8B%E5%BA%8F"><span class="nav-number">4.3.1.</span> <span class="nav-text">方法1：添加任务计划程序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%952%EF%BC%9A%E8%87%AA%E5%8A%A8%E8%BF%90%E8%A1%8C%E5%90%AF%E5%8A%A8%E8%84%9A%E6%9C%AC"><span class="nav-number">4.3.2.</span> <span class="nav-text">方法2：自动运行启动脚本</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Jenkins%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="nav-number">5.</span> <span class="nav-text">Jenkins创建项目</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="nav-number">5.1.</span> <span class="nav-text">创建项目</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%89%E6%8B%A9Freestyle-project"><span class="nav-number">5.2.</span> <span class="nav-text">选择Freestyle project</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE"><span class="nav-number">5.3.</span> <span class="nav-text">项目配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9E%84%E5%BB%BA%E5%AE%8C%E6%88%90"><span class="nav-number">5.4.</span> <span class="nav-text">构建完成</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%87%BA"><span class="nav-number">5.5.</span> <span class="nav-text">查看控制台输出</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SVN%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86%E6%8A%A5%E9%94%99"><span class="nav-number">6.</span> <span class="nav-text">SVN源码管理报错</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Windows%E8%8A%82%E7%82%B9%E6%97%A0%E6%B3%95%E6%89%A7%E8%A1%8Cbat%E5%91%BD%E4%BB%A4"><span class="nav-number">7.</span> <span class="nav-text">Windows节点无法执行bat命令</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Jenkins%E7%88%B6%E5%AD%90%E5%A4%9A%E4%BB%BB%E5%8A%A1%E8%BF%90%E8%A1%8C"><span class="nav-number">8.</span> <span class="nav-text">Jenkins父子多任务运行</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Jenkins%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F%E4%BB%BB%E5%8A%A1%E5%85%B3%E8%81%94"><span class="nav-number">8.1.</span> <span class="nav-text">Jenkins配置成功任务关联</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Jenkins%E9%85%8D%E7%BD%AE%E5%A4%B1%E8%B4%A5%E4%BB%BB%E5%8A%A1%E5%85%B3%E8%81%94"><span class="nav-number">8.2.</span> <span class="nav-text">Jenkins配置失败任务关联</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Jenkins%E9%82%AE%E4%BB%B6%E6%8A%A5%E8%AD%A6"><span class="nav-number">9.</span> <span class="nav-text">Jenkins邮件报警</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Jenkins%E9%85%8D%E7%BD%AE-Email"><span class="nav-number">9.1.</span> <span class="nav-text">Jenkins配置 Email</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Jenkins%E9%82%AE%E4%BB%B6%E6%A8%A1%E6%9D%BF%E9%85%8D%E7%BD%AE"><span class="nav-number">9.2.</span> <span class="nav-text">Jenkins邮件模板配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Jenkins%E6%8A%A5%E8%AD%A6%E8%A7%84%E5%88%99"><span class="nav-number">9.3.</span> <span class="nav-text">Jenkins报警规则</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%B6%E5%AE%83"><span class="nav-number">10.</span> <span class="nav-text">其它</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%9E%84%E5%BB%BA%E5%8E%86%E5%8F%B2"><span class="nav-number">10.1.</span> <span class="nav-text">删除构建历史</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="HiYo"
      src="/images/logo_android-chrome-192x192-wechat.png">
  <p class="site-author-name" itemprop="name">HiYo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">243</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">29</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">193</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/hiyongz/DevTest-Notes/" title="GitHub → https://github.com/hiyongz/DevTest-Notes/" rel="noopener" target="_blank"><i class="fa fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → /atom.xml"><i class="fa fa-rss fa-fw"></i>RSS</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">HiYo</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">1.2m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">17:36</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/js/local-search.js"></script>













    <div id="pjax">
  

  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '8KjyhsA4WPYNq9lsLNhA1R17-gzGzoHsz',
      appKey     : 'DbRgPOSj559JVyisJLRhQ42v',
      placeholder: "欢迎留言！",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

    </div>
</body>
</html>
